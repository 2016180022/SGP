# Dungeon&Defence

## 발표 링크
- 1. [1차 발표]()
- 2. [2차 발표]()
- 3. [최종 발표]()

## 목차
- 1. 게임의 소개 
	- High Concept
	- 핵심 메카닉
- 2. 개발 계획 일정 및 실제 진행 내용
	- 변경 사항
	- 개발 진척도
	- 주차별 커밋 횟수
- 3. 프로젝트 상세
	- 수업 내용에서 차용한 기술
	- 직접 개발한 기술
- 4. 아쉬운 것들
	- 하고 싶었지만 못 한 것들
	- 팔기 위해서 보충해야 할 것들
	- 결국 해결하지 못한 문제나 버그
- 5. 수업에 대한 내용
	- 이번 수업에서 기대한 것, 얻은 것
  
  
  
## 1. 게임의 소개
제목: Dungeon&Defence(던전 앤 디펜스) 
  
게임의 장르: 타워 디펜스 

![동일한 타워 디펜스 장르 게임](https://github.com/2016180022/SGP/blob/master/img/tdgame1.jpg?raw=true)  
[킹덤 러쉬: 인게임 이미지]

![동일한 타워 디펜스 장르 게임2](https://github.com/2016180022/SGP/blob/master/img/tdgame2.jpg?raw=true)  
[명일방주: 인게임 이미지]

게임의 개요: 자신이 배치한 타워형의 오브젝트로 일정한 주기/라운드로 걸어오는 적들을 막아내는 게임  

  
### 1.1 High Concept  
**'방치'**

타워 디펜스 장르 중에서도 바쁘게 컨트롤을 해야 하는 경우도 있지만, 본 프로젝트에서는 '방치'에 초점을 두었다.
  
### 1.2 핵심 메카닉  
1. 바쁜 조작의 필요 없이, 간단하게 배치하기만 해도 진행되는 게임
2. 낮은 집중도를 요구하여, 게임을 진행하며 낮은 스트레스와 꾸준한 재미를 느낄 수 있다  
  
## 2. 개발 계획 일정 및 실제 진행 내용
### 2.1 변경 사항
* **프레임워크 변경**  
 2분할 화면으로 진행할 경우에, 기존에 기획했던 기능대로 터치로 캐릭터를 배치하고 관리하기에는 화면이 너무 작을 것 같다고 판단하였음.
 기존의 기획을 유지하면서 UI를 터치하면 팝업되는 방식으로 목표 변경
  
### 2.2 개발 진척도
![일정 비교 표](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/newPlanChart.png)  
  
### 2.3 주차별 커밋 횟수
![주차별 커밋 현황](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/newCommits.PNG)  
|주차|횟수|
|--|---|
|1주차|3회|
|2주차|3회|
|3주차|10회|
|4주차|8회|
|5주차|8회|
|6주차|5회|
|7주차|14회|
|8주차|2회|
|9주차|10회|
  
## 3. 프로젝트 상세
### 3.1 수업 내용에서 차용한 기술
 * **프레임워크**  
  ![메인 씬 구조](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/3_1_1.PNG)  
  스택 구조, 싱글턴 구조의 씬 및 오브젝트 레이어 방식 관리  
    
 * **비트맵 에셋 매니저 디코딩**  
  ![에셋 디코딩](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/3_1_2.PNG)  
  애니메이션을 위한 비트맵 데이터 에셋 매니저를 통해서 디코딩  
    
 * **몹 제너레이터 및 어택 체커(ENV 레이어)**  
  ![ENV 레이어](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/3_1_3.PNG)  
  게임 오브젝트로 생성하여, ENV 레이어에 추가 후 update 여부를 메인 씬에서 변수로 제어하는 구조   
    
 * **SD 정보 JSON 파일에서 파싱**  
  ![JSON 파싱](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/3_1_4.PNG)  
  제이슨 리더를 사용하여 파싱하는 구조  
    
 * **클래스 내부 enum 타입으로 STATE 관리**  
  ![enum 타입](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/3_1_5.PNG)  
  해당 타입을 통해서 공격/애니메이션/비트맵 선택 등 STATE에 따른 update 및 draw 처리  
  
    
### 3.2 직접 개발한 기술  
 * **SD info와 Bitmap 관리 구조**  
  ![SD 구조](https://raw.githubusercontent.com/2016180022/SGP/a1530d31dcc89f6c70f9bd7518d763eacb396ad9/img/3_2_1.PNG)  
  중첩된 ArrayList 구조를 이용하여, sd의 state.ordinal(), sdIndex 등의 int 정보만으로도 관리 가능한 구조  
  
    
## 4. 아쉬운 것들
### 4.1 하고 싶었지만 못 한 것들
 * **원 기획에 포함되었던 사항들**  
  캐릭터 및 장비 인포 기능, 스킬 및 장비 기능 등  
 * **SD 및 MOB 애니메이션 디테일**  
  방향에 따른 대칭, 오차 없는 애니메이션  
 * **어택 체커 완성도**  
  시체 타격 문제, 시체 판정 루틴의 비효율성 개선 등  
### 4.2 팔기 위해서 보충해야 할 것들  
 * **부족한 완성도**  
  애니메이션 및 리소스 디테일, 기타 편의적인 기능  
 * **'재미'**  
  캐릭터 스킬 및 장비, 그 외 기능들
### 4.3 결국 해결하지 못한 문제나 버그
 * 오차 없는 이미지/애니메이션  
 * 시체 타격 버그  
  
## 5. 수업에 대한 내용
### 5.1 이번 수업에서 기대한 것, 얻은 것
 * **기대한 것**  
  간단하더라도 게임의 구조를 완성해보는 것  
 * **얻은 것**  
  객체지향에 대한 이해(?), 프로그래밍 디테일(기능에 맞는 작명, scope에 따른 변수 작명 디테일 등)

made by. 2016180022 박찬얼
